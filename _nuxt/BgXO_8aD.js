import{A as V,J as N,K as S,G as P,L as R,M as $,I,R as E,T as O,F as w,U as j,V as G,W as U,Y as q,Z as J,$ as H,S as K,a4 as W,O as Y,a5 as Z}from"./BLz7yVMV.js";import{g as D,c as f,o as u,D as h,a as o,t as k,x as B,F as M,z as Q,b as s,w as r,k as a,a2 as X,m as A,j as ee,d as y,a1 as x,a3 as te,$ as se,v as ae,C as z}from"./Cz6Dpk-o.js";import"./DlAUqK2U.js";import"./DUBQwCmS.js";/**
 * @license lucide-vue-next v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=V("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),re=D({__name:"CardCountBadge",props:{count:{type:Number,required:!0},size:{type:String,default:"normal",validator:d=>["small","normal","large"].includes(d)}},setup(d){return(_,c)=>(u(),f("span",{class:h(["absolute right-0 bottom-0 bg-primary/95 rounded-md flex items-center justify-center border-2 border-white dark:border-secondary",{"size-4 md:size-4":d.size==="small","size-4 md:size-6":d.size==="normal","size-7 md:size-8":d.size==="large"}])},[o("span",{class:h(["flex items-center justify-center text-white dark:text-black leading-none font-semibold",{"text-xs md:text-sm":d.size==="small","text-sm md:text-base":d.size==="normal","text-base md:text-md":d.size==="large"}])},k(d.count),3)],2))}}),ne={class:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 gap-1 md:gap-3"},de=D({__name:"DeckDetailCardList",props:{cardIds:{}},setup(d){const _=d,c=B(()=>{const t=new Map;return _.cardIds.forEach(n=>{t.has(n)||t.set(n,{cardId:n,count:0}),t.get(n).count++}),Array.from(t.values())}),e=t=>{const n=$.find(g=>g.id===t);return n?`${n.imagePath}`:""},i=t=>$.find(n=>n.id===t);return(t,n)=>{const g=P,p=S,m=R,l=N,C=re;return u(),f("div",ne,[(u(!0),f(M,null,Q(a(c),(b,v)=>(u(),f("div",{key:v,class:"relative flex"},[s(l,null,{default:r(()=>[s(p,{class:""},{default:r(()=>[s(g,{class:"flex-[0_0_400px]",src:`/${e(b.cardId)}`,"img-attributes":{class:""}},null,8,["src"])]),_:2},1024),s(m,{item:i(b.cardId)},null,8,["item"])]),_:2},1024),s(C,{count:b.count,size:"large"},null,8,["count"])]))),128))])}}}),le=D({__name:"AppFooterDeckDetailOptionsButton",setup(d){const _=X(),c=I(),e=B(()=>c.currentDeck.value),i=A(""),{copy:t,isSupported:n}=E({source:i}),g=()=>{if(e.value){if(i.value=c.getDeckCode(e.value.id).fullUrl,t(),!n.value){x.error("Clipboard is not supported in this browser.");return}x.success(`Copied deck "${e.value.name}" code URL.`)}else x.warning("Select one deck to continue.")},p=()=>{if(!e.value){x.warning("Select one deck to continue.");return}const m=c.getDeckCode(e.value.id).code,l=_({name:"deck-code",params:{code:m}});l?te(l.fullPath):x.error("Deck detail page not found.")};return(m,l)=>{const C=w,b=O,v=q,F=U,L=G,T=K;return u(),ee(T,null,{default:r(()=>[s(b,{"as-child":""},{default:r(()=>[s(C,{variant:"outline"},{default:r(()=>[s(a(j)),l[0]||(l[0]=o("span",{class:"hidden md:inline-flex"}," Options ",-1))]),_:1,__:[0]})]),_:1}),s(L,{align:"end"},{default:r(()=>[s(F,null,{default:r(()=>[s(v,{onClick:g},{default:r(()=>[s(a(J)),l[1]||(l[1]=y(" Import This Deck "))]),_:1,__:[1]}),s(v,{onClick:p},{default:r(()=>[s(a(H)),l[2]||(l[2]=y(" Go to Detail Page "))]),_:1,__:[2]})]),_:1})]),_:1})]),_:1})}}}),ce={class:"grow p-2 md:p-4"},ie={key:0,class:"flex flex-col gap-3 md:gap-4"},me={class:"border rounded-lg p-2 md:p-3 bg-gray-100/95 dark:bg-gray-800/95"},ue={class:"flex items-center gap-2"},_e={class:"text-md md:text-lg font-semibold"},ge={key:0,class:"text-sm text-gray-500 dark:text-gray-400"},pe={class:"border rounded-lg p-2 md:p-3 flex flex-col gap-3"},xe={class:"flex items-center gap-2"},fe={class:"border rounded-lg p-2 md:p-3 flex flex-col gap-3"},be={class:"flex items-center gap-2"},ke={class:"border rounded-lg p-2 md:p-3 flex flex-col gap-3"},ye={class:"flex items-center gap-2"},Ce={class:"ml-auto flex items-center gap-2"},ze=D({__name:"index",setup(d){const _=se(),c=I(),e=A(null);return ae(()=>{if(!_.params.code){x.error("No deck code provided.");return}const i=_.params.code,t=c.checkForDeckCode(i);t?e.value=t:x.error("Failed to import shared deck.",{duration:1/0})}),(i,t)=>{const n=w,g=W,p=Y,m=de,l=le,C=Z;return u(),f(M,null,[s(g,null,{default:r(()=>[s(n,{class:"text-[12px] md:text-sm",onClick:t[0]||(t[0]=b=>i.$router.push("/"))},{default:r(()=>[s(a(oe),{class:"size-3 md:size-4"}),t[1]||(t[1]=y(" Card List "))]),_:1,__:[1]})]),_:1}),o("div",ce,[a(e)?(u(),f("div",ie,[o("div",me,[o("div",ue,[o("h1",_e,k(a(e).name),1),a(e).author?(u(),f("span",ge," by "+k(a(e).author),1)):z("",!0)])]),o("div",pe,[o("div",xe,[t[2]||(t[2]=o("div",{class:"text-md md:text-lg font-semibold"},"oshi",-1)),s(p,{class:h(["px-1 text-[8px] md:text-xs",a(e).oshiCardIds.length>1?"bg-red-500/15 border-red-500/50 text-red-500":a(e).oshiCardIds.length===1?"bg-emerald-500/15 border-emerald-500/50 text-emerald-500":"border-gray-400 dark:border-gray-600 bg-gray-400/20 dark:bg-gray-600/20 text-gray-700 dark:text-gray-400"]),variant:"outline",size:"sm"},{default:r(()=>[y(k(`${a(e).oshiCardIds.length}/1`),1)]),_:1},8,["class"])]),s(m,{"card-ids":a(e).oshiCardIds},null,8,["card-ids"])]),o("div",fe,[o("div",be,[t[3]||(t[3]=o("div",{class:"text-md md:text-lg font-semibold"},"main",-1)),s(p,{class:h(["px-1 text-[8px] md:text-xs",a(e).mainCardIds.length>50?"bg-red-500/15 border-red-500/50 text-red-500":a(e).mainCardIds.length===50?"bg-emerald-500/15 border-emerald-500/50 text-emerald-500":"border-gray-400 dark:border-gray-600 bg-gray-400/20 dark:bg-gray-600/20 text-gray-700 dark:text-gray-400"]),variant:"outline",size:"sm"},{default:r(()=>[y(k(`${a(e).mainCardIds.length}/50`),1)]),_:1},8,["class"])]),s(m,{"card-ids":a(e).mainCardIds},null,8,["card-ids"])]),o("div",ke,[o("div",ye,[t[4]||(t[4]=o("div",{class:"text-md md:text-lg font-semibold"},"yell",-1)),s(p,{class:h(["px-1 text-[8px] md:text-xs",a(e).yellCardIds.length>20?"bg-red-500/15 border-red-500/50 text-red-500":a(e).yellCardIds.length===20?"bg-emerald-500/15 border-emerald-500/50 text-emerald-500":"border-gray-400 dark:border-gray-600 bg-gray-400/20 dark:bg-gray-600/20 text-gray-700 dark:text-gray-400"]),variant:"outline",size:"sm"},{default:r(()=>[y(k(`${a(e).yellCardIds.length}/20`),1)]),_:1},8,["class"])]),s(m,{"card-ids":a(e).yellCardIds},null,8,["card-ids"])])])):z("",!0)]),s(C,null,{default:r(()=>[o("div",Ce,[s(l)])]),_:1})],64)}}});export{ze as default};
