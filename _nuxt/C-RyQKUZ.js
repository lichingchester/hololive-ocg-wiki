import{P as q,u as R,g as S,r as j,j as L,H as ie,I as ue,o as T,F as U,C as J,E as pe,w as G,q as K,s as Q,v as W,D as _e,y as me,A as fe,B as ge,p as he,G as ke,z as ve,J as xe}from"./C5O-Ej3v.js";import{g as h,j as _,o as d,w as n,r as z,m as V,k as e,v as X,x as Y,l as v,as as I,c as y,F as E,p as Z,a as r,b as o,t as w,aL as ye,I as F,n as be,ar as $e,q as C,d as g,s as B,b4 as M,b5 as P,b6 as De}from"./PUBalsEI.js";import{_ as ee}from"./DlAUqK2U.js";const Ce=h({__name:"MenuSeparator",props:{asChild:{type:Boolean},as:{}},setup(p){const s=p;return(t,c)=>(d(),_(e(q),V(s,{role:"separator","aria-orientation":"horizontal"}),{default:n(()=>[z(t.$slots,"default")]),_:3},16))}}),we=h({__name:"DropdownMenuSeparator",props:{asChild:{type:Boolean},as:{}},setup(p){const s=p;return R(),(t,c)=>(d(),_(e(Ce),X(Y(s)),{default:n(()=>[z(t.$slots,"default")]),_:3},16))}}),Me=h({__name:"Label",props:{for:{},asChild:{type:Boolean},as:{default:"label"}},setup(p){const s=p;return R(),(t,c)=>(d(),_(e(q),V(s,{onMousedown:c[0]||(c[0]=u=>{!u.defaultPrevented&&u.detail>1&&u.preventDefault()})}),{default:n(()=>[z(t.$slots,"default")]),_:3},16))}}),ze=h({__name:"BaseSeparator",props:{orientation:{default:"horizontal"},decorative:{type:Boolean},asChild:{type:Boolean},as:{}},setup(p){const s=p,t=["horizontal","vertical"];function c(l){return t.includes(l)}const u=v(()=>c(s.orientation)?s.orientation:"horizontal"),k=v(()=>u.value==="vertical"?s.orientation:void 0),m=v(()=>s.decorative?{role:"none"}:{"aria-orientation":k.value,role:"separator"});return(l,a)=>(d(),_(e(q),V({as:l.as,"as-child":l.asChild,"data-orientation":u.value},m.value),{default:n(()=>[z(l.$slots,"default")]),_:3},16,["as","as-child","data-orientation"]))}}),Be=h({__name:"Separator",props:{orientation:{default:"horizontal"},decorative:{type:Boolean},asChild:{type:Boolean},as:{}},setup(p){const s=p;return(t,c)=>(d(),_(ze,X(Y(s)),{default:n(()=>[z(t.$slots,"default")]),_:3},16))}});/**
 * @license lucide-vue-next v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=S("expand",[["path",{d:"m15 15 6 6",key:"1s409w"}],["path",{d:"m15 9 6-6",key:"ko1vev"}],["path",{d:"M21 16v5h-5",key:"1ck2sf"}],["path",{d:"M21 8V3h-5",key:"1qoq8a"}],["path",{d:"M3 16v5h5",key:"1t08am"}],["path",{d:"m3 21 6-6",key:"wwnumi"}],["path",{d:"M3 8V3h5",key:"1ln10m"}],["path",{d:"M9 9 3 3",key:"v551iv"}]]);/**
 * @license lucide-vue-next v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=S("layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]);/**
 * @license lucide-vue-next v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=S("package-plus",[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M19 13v6",key:"85cyf1"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]);/**
 * @license lucide-vue-next v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=S("settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-vue-next v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=S("shrink",[["path",{d:"m15 15 6 6m-6-6v4.8m0-4.8h4.8",key:"17vawe"}],["path",{d:"M9 19.8V15m0 0H4.2M9 15l-6 6",key:"chjx8e"}],["path",{d:"M15 4.2V9m0 0h4.8M15 9l6-6",key:"lav6yq"}],["path",{d:"M9 4.2V9m0 0H4.2M9 9 3 3",key:"1pxi2q"}]]);/**
 * @license lucide-vue-next v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=S("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Ee=h({__name:"DropdownMenuSeparator",props:{asChild:{type:Boolean},as:{},class:{}},setup(p){const s=p,t=j(s,"class");return(c,u)=>(d(),_(e(we),V({"data-slot":"dropdown-menu-separator"},e(t),{class:e(L)("bg-border -mx-1 my-1 h-px",s.class)}),null,16,["class"]))}}),qe={class:"grid grid-cols-4 md:grid-cols-10 gap-1 md:gap-2"},je=["srcset"],Le=["src"],Te=["onClick"],Ne={class:"flex items-center justify-center text-xs"},Oe=["onClick"],He={class:"flex items-center justify-center text-xs"},Re={class:"absolute top-0 left-0 -translate-1/5 bg-primary/95 rounded-full size-5 md:size-6 flex items-center justify-center"},Ue={class:"flex items-center justify-center text-[8px] md:text-sm text-white dark:text-black leading-none font-semibold"},Je=h({__name:"FloatingDeckCardList",props:{cardIds:{}},setup(p){const s=p,t=v(()=>{const l=new Map;return s.cardIds.forEach(a=>{l.has(a)||l.set(a,{cardId:a,count:0}),l.get(a).count++}),Array.from(l.values())}),c=I(),u=({cardId:l})=>{c.addCardToDeck(l)},k=({cardId:l})=>{c.removeCardFromDeck(l)},m=l=>{const a=ye.find(i=>i.id===l);return a?`${a.imagePath}`:""};return(l,a)=>(d(),y("div",qe,[(d(!0),y(E,null,Z(e(t),(i,f)=>(d(),y("div",{key:f,class:"relative"},[r("picture",null,[r("source",{srcset:m(i.cardId).replace(".png",".webp"),type:"image/webp"},null,8,je),r("img",{src:m(i.cardId),alt:"",class:"",loading:"lazy"},null,8,Le)]),r("button",{class:"absolute bottom-0 left-0 w-2/4 h-5 md:h-6 bg-secondary/95 rounded-sm",onClick:b=>u(i)},[r("div",Ne,[o(e(ie),{class:"size-3 md:size-4"})])],8,Te),r("button",{class:"absolute bottom-0 right-0 w-2/4 h-5 md:h-6 bg-red-500/95 rounded-sm",onClick:b=>k(i)},[r("div",He,[o(e(ue),{class:"size-3 text-white md:size-4"})])],8,Oe),r("span",Re,[r("span",Ue,w(i.count),1)])]))),128))]))}}),H=h({__name:"Separator",props:{orientation:{default:"horizontal"},decorative:{type:Boolean,default:!0},asChild:{type:Boolean},as:{},class:{}},setup(p){const s=p,t=j(s,"class");return(c,u)=>(d(),_(e(Be),V({"data-slot":"separator-root"},e(t),{class:e(L)("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",s.class)}),null,16,["class"]))}}),Ge={key:0,class:"fixed bottom-full left-0 m-2 md:m-4 z-40"},Ke={class:"bg-background/95 rounded-lg shadow-lg border"},Qe={class:"flex p-2"},We={class:"flex"},Xe={class:"flex flex-col gap-3 py-3 px-3"},Ye={class:""},Ze={class:"flex items-center gap-1 text-xs md:text-sm font-semibold"},et={class:""},tt={class:"flex items-center gap-1 text-xs md:text-sm font-semibold"},st={class:""},at={class:"flex items-center gap-1 text-xs md:text-sm font-semibold"},ot=h({__name:"FloatingDeck",setup(p){const s=I(),t=F(!1),c=()=>{t.value=!t.value},u=v(()=>s.isEditing.value),k=v(()=>s.currentDeck.value);be(k,(i,f)=>{i&&i.id!==(f==null?void 0:f.id)&&(console.log("FloatingDeck: currentDeck changed",i),t.value=!0,s.isEditing.value=!0)},{immediate:!0});const m=v(()=>{var i;return((i=s.currentDeck.value)==null?void 0:i.oshiCardIds)||[]}),l=v(()=>{var i;return((i=s.currentDeck.value)==null?void 0:i.mainCardIds)||[]}),a=v(()=>{var i;return((i=s.currentDeck.value)==null?void 0:i.yellCardIds)||[]});return(i,f)=>{const b=T,$=J,D=Je,A=U;return d(),_($e,{name:"fade-up"},{default:n(()=>[e(u)?(d(),y("div",Ge,[r("div",Ke,[r("div",Qe,[o(b,{size:"sm",class:"text-[12px] md:text-sm",onClick:c},{default:n(()=>[e(t)?(d(),_(e(Ae),{key:1,class:"size-3 md:size-4"})):(d(),_(e(Se),{key:0,class:"size-3 md:size-4"})),g(" "+w(e(t)?"Collapse":"Expand"),1)]),_:1})]),r("div",We,[o(A,{class:"max-h-[40vh]"},{default:n(()=>[r("div",Xe,[r("div",Ye,[r("div",Ze,[f[0]||(f[0]=g(" oshi ")),o($,{class:B(["px-1 text-[8px] md:text-xs",e(m).length>1?"bg-red-500/15 border-red-500/50 text-red-500":e(m).length===1?"bg-emerald-500/15 border-emerald-500/50 text-emerald-500":"border-gray-400 dark:border-gray-600 bg-gray-400/20 dark:bg-gray-600/20 text-gray-700 dark:text-gray-400"]),variant:"outline",size:"sm"},{default:n(()=>[g(w(`${e(m).length}/1`),1)]),_:1},8,["class"])]),e(t)?(d(),_(D,{key:0,"card-ids":e(m),class:"mt-2"},null,8,["card-ids"])):C("",!0)]),e(t)?(d(),_(e(H),{key:0,class:"my-1 md:my-2"})):C("",!0),r("div",et,[r("div",tt,[f[1]||(f[1]=g(" main ")),o($,{class:B(["px-1 text-[8px] md:text-xs",e(l).length>50?"bg-red-500/15 border-red-500/50 text-red-500":e(l).length===50?"bg-emerald-500/15 border-emerald-500/50 text-emerald-500":"border-gray-400 dark:border-gray-600 bg-gray-400/20 dark:bg-gray-600/20 text-gray-700 dark:text-gray-400"]),variant:"outline",size:"sm"},{default:n(()=>[g(w(`${e(l).length}/50`),1)]),_:1},8,["class"])]),e(t)?(d(),_(D,{key:0,"card-ids":e(l),class:"mt-2"},null,8,["card-ids"])):C("",!0)]),e(t)?(d(),_(e(H),{key:1,class:"my-1 md:my-2"})):C("",!0),r("div",st,[r("div",at,[f[2]||(f[2]=g(" yell ")),o($,{class:B(["px-1 text-[8px] md:text-xs",e(a).length>20?"bg-red-500/15 border-red-500/50 text-red-500":e(a).length===20?"bg-emerald-500/15 border-emerald-500/50 text-emerald-500":"border-gray-400 dark:border-gray-600 bg-gray-400/20 dark:bg-gray-600/20 text-gray-700 dark:text-gray-400"]),variant:"outline",size:"sm"},{default:n(()=>[g(w(`${e(a).length}/20`),1)]),_:1},8,["class"])]),e(t)?(d(),_(D,{key:0,"card-ids":e(a),class:"mt-2"},null,8,["card-ids"])):C("",!0)])])]),_:1})])])])):C("",!0)]),_:1})}}}),nt={class:"flex items-center gap-2 md:gap-4"},rt={class:"relative flex size-1.5 mr-1"},lt={class:"text-sm md:text-lg"},ct=h({__name:"AppFooterCurrentDeck",setup(p){const s=I(),t=v(()=>s.isEditing.value),c=v(()=>s.currentDeck.value),u=()=>{if(s.currentDeck.value===null){M.info("Please select a deck to edit.");return}s.toggleEditing()};return(k,m)=>{var a;const l=J;return d(),y("div",nt,[r("button",{onClick:u},[o(l,{variant:"outline",class:B(["text-xs md:text-sm",e(t)?"bg-emerald-500/15 border-emerald-500":"bg-gray-500/15 border-gray-500"])},{default:n(()=>[r("span",rt,[r("span",{class:B(["absolute inline-flex h-full w-full rounded-full opacity-75",e(t)?"animate-ping bg-emerald-400":"bg-gray-400"])},null,2),r("span",{class:B(["relative inline-flex size-1.5 rounded-full",e(t)?"bg-emerald-500":"bg-gray-500"])},null,2)]),m[0]||(m[0]=g(" Edit "))]),_:1,__:[0]},8,["class"])]),r("span",lt,w(((a=e(c))==null?void 0:a.name)||"Select one deck to edit"),1)])}}}),dt={class:""},it=h({__name:"AppFooterSettingsButton",setup(p){const s=I(),t=v(()=>s.currentDeck.value),c=F(""),{copy:u,isSupported:k}=pe({source:c}),m=()=>{if(t.value){if(c.value=s.shareDeck(t.value.id),u(),!k.value){M.error("Clipboard is not supported in this browser.");return}M.success(`Copied deck "${t.value.name}" sharing URL: ${c.value}`)}else M.warning("Select one deck to share.")};return(l,a)=>{const i=T,f=K,b=W,$=Q,D=G;return d(),y("div",dt,[o(D,null,{default:n(()=>[o(f,{"as-child":""},{default:n(()=>[o(i,{variant:"outline"},{default:n(()=>[o(e(Ie)),a[0]||(a[0]=r("span",{class:"hidden md:inline-flex"}," Settings ",-1))]),_:1,__:[0]})]),_:1}),o($,null,{default:n(()=>[o(b,{onClick:m},{default:n(()=>a[1]||(a[1]=[g(" Share Current Deck ")])),_:1,__:[1]})]),_:1})]),_:1})])}}}),ut=h({__name:"Label",props:{for:{},asChild:{type:Boolean},as:{},class:{}},setup(p){const s=p,t=j(s,"class");return(c,u)=>(d(),_(e(Me),V({"data-slot":"label"},e(t),{class:e(L)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",s.class)}),{default:n(()=>[z(c.$slots,"default")]),_:3},16,["class"]))}}),pt={class:"flex"},_t={class:"space-y-4"},mt={class:"grid gap-2"},ft={class:"grid gap-2"},gt=h({__name:"AppFooterDeckButton",setup(p){const s=I(),t=F(""),c=F(""),u=F(!1),k=()=>{if(!t.value){M.error("Deck name is required.");return}const l={id:`${t.value}-${xe({offset:0}).value.toString()}`,name:t.value,author:c.value,oshiCardIds:[],mainCardIds:[],yellCardIds:[]};s.addDeck(l),s.setCurrentDeck(l),u.value=!1,t.value="",c.value="",M.success("Deck created successfully!")},m=l=>{s.deleteDeck(l.id),M.success("Deck deleted successfully!")};return(l,a)=>{const i=T,f=K,b=W,$=me,D=Ee,A=U,te=Q,se=G,ae=ge,oe=fe,N=ut,O=he,ne=ke,re=ve,le=_e;return d(),_(le,{open:e(u),"onUpdate:open":a[3]||(a[3]=x=>P(u)?u.value=x:null)},{default:n(()=>[o(se,null,{default:n(()=>[o(f,{"as-child":""},{default:n(()=>[o(i,null,{default:n(()=>[o(e(Ve)),a[4]||(a[4]=g("Decks "))]),_:1,__:[4]})]),_:1}),o(te,{align:"end"},{default:n(()=>[o($,{"as-child":""},{default:n(()=>[o(b,{onClick:a[0]||(a[0]=x=>u.value=!0)},{default:n(()=>[o(e(Fe)),a[5]||(a[5]=g(" New Deck "))]),_:1,__:[5]})]),_:1}),e(s).decks.value.length?(d(),y(E,{key:0},[o(D),r("div",pt,[o(A,{class:"w-full max-h-[50vh]"},{default:n(()=>[(d(!0),y(E,null,Z(e(s).decks.value,(x,ce)=>(d(),_(b,{key:ce,class:"flex items-center justify-between",onClick:de=>e(s).setCurrentDeck(x)},{default:n(()=>[g(w(x.name)+" ",1),o(i,{variant:"outline",size:"icon",class:"size-6 hover:bg-red-500/10 dark:hover:bg-red-500/20",onClick:De(de=>m(x),["stop","prevent"])},{default:n(()=>[o(e(Pe),{class:"text-red-500 size-3"})]),_:2},1032,["onClick"])]),_:2},1032,["onClick"]))),128))]),_:1})])],64)):C("",!0)]),_:1})]),_:1}),o(re,{class:"sm:max-w-[425px]"},{default:n(()=>[o(oe,null,{default:n(()=>[o(ae,null,{default:n(()=>a[6]||(a[6]=[g("New Deck")])),_:1,__:[6]})]),_:1}),r("div",_t,[r("div",mt,[o(N,{for:"name"},{default:n(()=>a[7]||(a[7]=[g("Name")])),_:1,__:[7]}),o(O,{id:"name",type:"text",placeholder:"My New Deck",modelValue:e(t),"onUpdate:modelValue":a[1]||(a[1]=x=>P(t)?t.value=x:null)},null,8,["modelValue"])]),r("div",ft,[o(N,{for:"author"},{default:n(()=>a[8]||(a[8]=[g("Author")])),_:1,__:[8]}),o(O,{id:"author",type:"text",placeholder:"Me",modelValue:e(c),"onUpdate:modelValue":a[2]||(a[2]=x=>P(c)?c.value=x:null)},null,8,["modelValue"])]),o(ne,null,{default:n(()=>[o(i,{class:"w-full",onClick:k},{default:n(()=>a[9]||(a[9]=[g("Create Deck")])),_:1,__:[9]})]),_:1})])]),_:1})]),_:1},8,["open"])}}}),ht={},kt={class:"border-solid sticky bottom-0 z-50 w-full border-t bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/90"},vt={class:"p-2 md:p-4 flex items-center"},xt={class:"ml-auto flex items-center gap-2"};function yt(p,s){const t=ot,c=ct,u=it,k=gt;return d(),y("footer",kt,[o(t),r("div",vt,[o(c),r("div",xt,[o(u),o(k)])])])}const bt=ee(ht,[["render",yt]]),$t={},Dt={class:"relative flex min-h-svh flex-col bg-background"},Ct={class:"flex-1"};function wt(p,s){const t=bt;return d(),y("div",Dt,[r("main",Ct,[z(p.$slots,"default")]),o(t)])}const St=ee($t,[["render",wt]]);export{St as default};
